@page
@model BlogApplication.Pages.Blog.ContentDisplayModel
@{
    ViewData["Title"] = "Content Display";
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<div class="row">
    <div class="col-9">
        <a href="/Index" class="btn btn-outline-info"><i class="fas fa-home"></i></a>
    </div>
    <h1 class="text-center text-info text-decoration-underline">Blog Content</h1>
</div>

<div class="row">
    <div class="col-9">
        @if (!string.IsNullOrEmpty(Model.Content))
        {
            <h1>
                @Html.Raw(Model.Content)
            </h1>
        }
    </div>
    <div class="col-3">

        @if (Model.ImageData != null && Model.ImageData.Length > 0)
        {
            <div>
                <img src="data:image;base64,@Convert.ToBase64String(Model.ImageData)" alt="Blog Image" style="max-width: 300px; max-height: 500px;" />
            </div>
        }
    </div>
</div>

<!-- Display section for comments -->
<div class="container rounded border">
    <div class="row mt-4">
        <div class="col-9">
            @if (Model.Comments != null && Model.Comments.Any())
            {

                <h2 class="text-black">Comments</h2>
                <ul>
                    @foreach (var comment in Model.Comments)
                    {
                        <li>
                            <strong>@comment.UserName</strong> - @comment.CommentDate
                            <p>@comment.CommentText</p>
                        </li>
                    }
                </ul>
            }
        </div>
        <div class="col-3">
            <div class="container rounded border m-2 p-2">
            <h4 class="text-primary">Share your thoughts: &nbsp;<i class="fas fa-comment"></i></h4>
            <form method="post" class="mb-3">
                <div class="form-group">
                    <label for="userName">Name:</label>
                    <input type="text" class="form-control" placeholder="Name" name="userName" required />
                </div>
                <div class="form-group">
                    <label>Commment:</label>
                    <input type="text" class="form-control" placeholder="add comment" name="commentText" required />
                </div>             
                <button type="submit" class="btn btn-outline-primary" style="margin-left:75%; margin-top:2%">Submit</button>
            </form>
        </div>
        </div>

    </div>
    </div>
    @*Add modal*@

